{"version":3,"sources":["util/factory.js"],"names":["getComponentKey","registerComponent","getComponent","pool","type","version","level","Component"],"mappings":";;;;;;;;;;;;;;;;YASgBA,e,GAAAA,e;YAIAC,iB,GAAAA,iB;YAeAC,Y,GAAAA,Y;AA5BhB;;;;;AAOA,QAAMC,OAAO,EAAb;;AAEO,aAASH,eAAT,CAAyBI,IAAzB,EAA+BC,OAA/B,EAAwC;AAC3C,eAAOA,eAAaD,IAAb,0BAAgCC,OAAhC,GAA4CD,IAAnD;AACH;;AAEM,aAASH,iBAAT,CAA2BG,IAA3B,EAAiCE,KAAjC,EAAwCD,OAAxC,EAAiD;;AAEpD,eAAO,UAAUE,SAAV,EAAqB;;AAExBA,sBAAUH,IAAV,GAAiBA,IAAjB;AACAG,sBAAUD,KAAV,GAAkBA,KAAlB;;AAEAH,iBAAKH,gBAAgBI,IAAhB,EAAsBC,OAAtB,CAAL,IAAuCE,SAAvC;;AAEA,mBAAOA,SAAP;AAEH,SATD;AAWH;;AAEM,aAASL,YAAT,CAAsBE,IAAtB,EAA4BC,OAA5B,EAAqC;AACxC,eAAOF,KAAKH,gBAAgBI,IAAhB,EAAsBC,OAAtB,CAAL,CAAP;AACH","file":"factory.js","sourcesContent":["/**\n * @file registry\n * @author leon <ludafa@outlook.com>\n */\n\nimport {SEPARATOR} from '../constants';\n\nconst pool = {};\n\nexport function getComponentKey(type, version) {\n    return version ? `${type}${SEPARATOR}${version}` : type;\n}\n\nexport function registerComponent(type, level, version) {\n\n    return function (Component) {\n\n        Component.type = type;\n        Component.level = level;\n\n        pool[getComponentKey(type, version)] = Component;\n\n        return Component;\n\n    };\n\n}\n\nexport function getComponent(type, version) {\n    return pool[getComponentKey(type, version)];\n}\n"]}